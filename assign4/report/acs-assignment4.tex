% !TEX TS-program = pdflatex
\documentclass[11pt,a4paper,english]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[obeyspaces, hyphens]{url}
\usepackage[top=4cm, bottom=4cm, left=3cm, right=3cm]{geometry}
\usepackage{enumerate}
\usepackage{amsmath}
\usepackage{mdwlist}
\usepackage{fancyhdr}
\usepackage{cite}
\usepackage{amsmath}
\usepackage[normalem]{ulem} % ulem enables strikethrough and more, but makes
                            % \emph underline by default :(
\usepackage{babel}
\usepackage{fancyvrb}
\usepackage{verbatimbox}
\usepackage{amsfonts}
\usepackage{amsthm}
%\usepackage{minted}
\usepackage{xcolor}
\usepackage{csquotes}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{booktabs}
\usepackage{csquotes}
\usepackage{array}
\usepackage{lmodern} % better font
\usepackage[noend]{algpseudocode}
\usepackage{algorithm}
\usepackage{paralist}
\usepackage[font=footnotesize,labelfont=bf]{caption}
\usepackage{tikz}
\usetikzlibrary{calc, arrows, decorations.markings}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{hyperref} % always load hyper ref in the end
\usepackage{cleveref} % except cleveref
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

\newcommand*\justify{%
  \fontdimen2\font=0.4em% interword space
  \fontdimen3\font=0.2em% interword stretch
  \fontdimen4\font=0.1em% interword shrink
  \fontdimen7\font=0.1em% extra space
  \hyphenchar\font=`\-% allowing hyphenation
}

\lstset{
    frame=lrtb,
    captionpos=b,
    belowskip=0pt
}

\captionsetup[listing]{aboveskip=5pt,belowskip=\baselineskip}

\newcommand{\todo}[1]{\textcolor{red}{\textbf{TODO: }#1}}

%\definecolor{lightgray}{rgb}{0.95,0.95,0.95}
%\renewcommand\listingscaption{Code}

\newcommand{\concat}{\ensuremath{+\!\!\!\!+\!\!}}

\pagestyle{fancy}
\headheight 35pt

\DefineVerbatimEnvironment{code}{Verbatim}{fontsize=\small}
\DefineVerbatimEnvironment{example}{Verbatim}{fontsize=\small}
\newcommand{\ignore}[1]{}

\hyphenation{character-ised}

\rhead{Assignment 4}
\lhead{ACS}

\input{plots}

\begin{document}

\thispagestyle{empty} %fjerner sidetal
\hspace{6cm} \vspace{6cm}
\begin{center}
\textbf{\Huge {Advanced Computer Systems}}\\ \vspace{0.5cm}
\Large{Assignment 4}
\end{center}
\vspace{3cm}
\begin{center}
\Large{\textbf{Truls Asheim, Rasmus Wriedt Larsen, Viktor Hansen}}
\end{center}
\vspace{6.0cm}
\thispagestyle{empty}

\newpage

\section*{Exercises}

\subsection*{Question 1: Recovery Concepts}
\begin{enumerate}
\item In a system forcing writes to disk when a transaction commits, it is \emph{not}
  necessary to implement a scheme for redo, as all committed data will be on
  disk. This is based on the assumption that the system does not crash in the
  middle of writing committed data to disk, which is a very crude assumption.

  In a system with no-steal, we do \emph{not} need to implement at scheme for
  redo, as no uncommitted data will be written to disk.

\item Nonvolatile storage (such as disk) can survive a system crash, but can
  have media failures. Data stored in stable storage is assumed to never be
  lost, even though this does usually not consider extreme cases such as atomic
  bombs. Therefore the major difference is the resources/money required to
  implement either.

\item The rules of Write-Ahead Logging are 1) must write log for data updates
  before writing the new data to disk, and 2) must write all log entries for a
  transaction just before committing.

  These two rules ensures durability (results are persistent). Rules 1) ensures
  that we can undo changes that have been written to disk from transactions that
  have not committed, and rule 2) ensures that if the system crashes immediately
  after a commit (and before data is written), we still have all the necessary
  information to redo the operation.
\end{enumerate}

\subsection*{Question 2: ARIES}
\begin{enumerate}
\item Answer here
\item Answer here
\item Answer here
\item Answer here
\item Answer here
\item Answer here
\end{enumerate}

\section*{Programming Task}
\subsection*{Overview of Implementation}
\subsection*{Discussion on the Performance Measurements}
\begin{enumerate}
\item Answer here
\item Answer here
\item Answer here
\end{enumerate}

% {local data}{rpc data}{y axis label}{max}

\begin{figure}
  \centering
  \acsplot{\throughputlocal}{\throughputrpc}{Throughput}{800}
  \caption{Development in throughput when running different number of
    client threads, when running the backend in same addressspace (local) or
    over RPC.}
  \label{fig:throughput}
\end{figure}

\begin{figure}
  \centering
  \acsplot{\latencylocal}{\latencyrpc}{Latency}{800}
  \caption{Development in latency when running different number of
    client threads, when running the backend in same addressspace (local) or
    over RPC.}
  \label{fig:latency}
\end{figure}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
